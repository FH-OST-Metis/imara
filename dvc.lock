schema: '2.0'
stages:
  extract:
    cmd: uv run python src/app/extract.py --input 
      data/raw/documents/2402.14887v4.pdf --output data/processed/extracted
    deps:
    - path: data/raw/documents/2402.14887v4.pdf
      hash: md5
      md5: b74c219cf32c9f0fa128118c3bacf0c2
      size: 222042
    - path: src/app/extract.py
      hash: md5
      md5: 33d836e54bd2ac5bb2de22432a70bf67
      size: 11117
    outs:
    - path: data/processed/extracted
      hash: md5
      md5: 4065efd980e1243efa3506a32f8c9882.dir
      size: 5086187
      nfiles: 6
  chunk:
    cmd: uv run python src/app/chunk.py --input data/processed/extracted 
      --output data/processed/chunks
    deps:
    - path: data/processed/extracted
      hash: md5
      md5: 4065efd980e1243efa3506a32f8c9882.dir
      size: 5086187
      nfiles: 6
    - path: src/app/chunk.py
      hash: md5
      md5: 84970fc1d06aef0c5eb51767946c3efe
      size: 1592
    outs:
    - path: data/processed/chunks
      hash: md5
      md5: 483ea2a25d02c9fe130a50998eefdd50.dir
      size: 24411
      nfiles: 43
  embed:
    cmd: uv run python src/app/embed.py --input data/processed/chunks 
      --database_url postgresql://postgres:postgres@127.0.0.1:54322/postgres
    deps:
    - path: data/processed/chunks
      hash: md5
      md5: 483ea2a25d02c9fe130a50998eefdd50.dir
      size: 24411
      nfiles: 43
    - path: src/app/embed.py
      hash: md5
      md5: 9200e122b8da87f9a21332ba4a2b00cf
      size: 2768
