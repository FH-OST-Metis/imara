schema: '2.0'
stages:
  extract:
    cmd: uv run python src/app/extract.py --input 
      data/raw/documents/2402.14887v4.pdf --output data/processed/extracted
    deps:
    - path: data/raw/documents/2402.14887v4.pdf
      hash: md5
      md5: b74c219cf32c9f0fa128118c3bacf0c2
      size: 222042
    - path: src/app/extract.py
      hash: md5
      md5: 33d836e54bd2ac5bb2de22432a70bf67
      size: 11117
    outs:
    - path: data/processed/extracted
      hash: md5
      md5: 4065efd980e1243efa3506a32f8c9882.dir
      size: 5086187
      nfiles: 6
  chunk:
    cmd: uv run python src/app/chunk.py --input data/processed/extracted 
      --output data/processed/chunks
    deps:
    - path: data/processed/extracted
      hash: md5
      md5: 4065efd980e1243efa3506a32f8c9882.dir
      size: 5086187
      nfiles: 6
    - path: src/app/chunk.py
      hash: md5
      md5: 10b859d8137ce96fbfc184fe6fc58564
      size: 2498
    outs:
    - path: data/processed/chunks
      hash: md5
      md5: c95209faeebd9dcd59855b660db4052a.dir
      size: 24551
      nfiles: 43
  embed:
    cmd: uv run python src/app/embed.py --input data/processed/chunks 
      --artifacts data/processed/extracted --database_url 
      postgresql://postgres:postgres@127.0.0.1:54322/postgres
    deps:
    - path: data/processed/chunks
      hash: md5
      md5: c95209faeebd9dcd59855b660db4052a.dir
      size: 24551
      nfiles: 43
    - path: data/processed/extracted
      hash: md5
      md5: 4065efd980e1243efa3506a32f8c9882.dir
      size: 5086187
      nfiles: 6
    - path: src/app/embed.py
      hash: md5
      md5: 24ba96d93fddcf0121bf423806c54de5
      size: 2826
